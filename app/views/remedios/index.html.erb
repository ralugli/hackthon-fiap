<div class="row">
  <div class="col-md-12">
    <form action="" method="post" role="form">
      <div class="form-group">
        <input type="text" class="form-control" id="remedio" autocomplete="off" placeholder="Nome do remÃ©dio">
      </div>
    </form>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <ul id="resultados_busca">
    </ul>
  </div>
</div>

<script type="text/javascript">

  var remedios = [];
  $.getJSON( "<%= remedio_list_path %>", function( data ) {
    $.each( data, function( key, val ) {
      remedios.push(val.nome);
    });
  });

  $(document).ready(function(){
    $('#remedio').typeahead({ source: remedios });
  })

  $("#remedio").on("change", function() {
    var valor_campo =  $(this).val();
    var resultados_busca = $("#resultados_busca");

    var jqxhr = $.post( "<%= search_remedio_path %>", { nome_remedio: valor_campo }, function( data ) {
      resultados_busca.html("");
      $.each( data, function( key, val ) { 
        resultados_busca.append( "<li>"+ val.farmacia + "<br />" + val.endereco + "<br />" + val.telefone +"</li>" );
      });
      resultados_busca
    });
  });


</script>